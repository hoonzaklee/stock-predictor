<!DOCTYPE html>
<html>
<head>
  <title>ì£¼ê°€ ì˜ˆì¸¡ê¸°</title>
</head>
<body>
  <h2>ì£¼ê°€ ì˜ˆì¸¡ê¸°</h2>
  <form id="predict-form">
    <input type="number" step="0.01" id="ma5" placeholder="MA5 ì…ë ¥" required />
    <input type="number" step="1" id="volume" placeholder="ê±°ë˜ëŸ‰ ì…ë ¥" required />
    <button type="submit">ì˜ˆì¸¡í•˜ê¸°</button>
  </form>
  <div id="result"></div>

  <script>
    document.getElementById("predict-form").addEventListener("submit", async function(e) {
      e.preventDefault();

      const ma5 = parseFloat(document.getElementById("ma5").value);
      const volume = parseFloat(document.getElementById("volume").value);

      try {
        const res = await fetch("https://stock-predictor-o32n.onrender.com/predict", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ ma5: ma5, volume: volume })
        });

        const data = await res.json();
        document.getElementById("result").innerText = `ğŸ“ˆ ì˜ˆì¸¡ ì£¼ê°€: $${data.predicted_price}`;
      } catch (error) {
        document.getElementById("result").innerText = "âŒ ì˜ˆì¸¡ ì‹¤íŒ¨: ì„œë²„ ì‘ë‹µ ì—†ìŒ";
        console.error(error);
      }
    });
  </script>
</body>
</html>
